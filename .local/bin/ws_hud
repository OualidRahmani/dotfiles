#!/usr/bin/env python3
import tkinter as tk
import sys
import os
import json

# ── Theme ─────────────────────────────────────────────────────────────────────

THEME_JSON = os.path.expanduser("~/.config/qtile_theme.json")
with open(THEME_JSON) as f:
    colors = json.load(f)

# ── UI ────────────────────────────────────────────────────────────────────────

ws_name = sys.argv[1] if len(sys.argv) > 1 else "?"

W, H = 280, 140
root = tk.Tk()
root.title("WSHud")
root.overrideredirect(True)
root.attributes("-topmost", True)
root.attributes("-type", "notification")
root.attributes("-alpha", 0.4)
root.configure(
    bg=colors["bg"],
    highlightbackground=colors["surface"],
    highlightthickness=4,
)
root.geometry(f"{W}x{H}+{(1920 - W) // 2}+{(1080 - H) // 2}")

tk.Label(
    root, text=f" {ws_name} ",
    fg=colors["blue"], bg=colors["bg"],
    font=("JetBrains Mono", 48, "bold"),
).pack(expand=True)

root.after(800, root.destroy)
root.mainloop()
